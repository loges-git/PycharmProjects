============================= test session starts =============================
platform win32 -- Python 3.14.2, pytest-9.0.2, pluggy-1.6.0 -- C:\Python314\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\loges\PycharmProjects\release_ops_ui
collecting ... collected 6 items

tests/test_approval_service.py::test_create_approval_record ERROR        [ 16%]
tests/test_approval_service.py::test_load_approval_record ERROR          [ 33%]
tests/test_approval_service.py::test_load_approval_record_not_found PASSED [ 50%]
tests/test_approval_service.py::test_mark_approval_consumed ERROR        [ 66%]
tests/test_approval_service.py::test_revoke_approval ERROR               [ 83%]
tests/test_approval_service.py::test_cannot_revoke_consumed_approval ERROR [100%]

=================================== ERRORS ====================================
________________ ERROR at setup of test_create_approval_record ________________

    @pytest.fixture
    def sample_approval_data():
        return {
            "approval_id": "APPROVED_Test_User_20260101_120000",
            "environment": Environment.CIT,
>           "release_type": ReleaseType.GCP,
                            ^^^^^^^^^^^^^^^
            "base_branch": "develop",
            "base_commit": "abc1234",
            "approved_files": {"file1.txt": "hash1"},
            "release_jira": "JIRA-123",
            "cluster": "test-cluster",
            "shared_path": "/tmp/shared",
            "search_tag": "test-tag"
        }
E       AttributeError: type object 'ReleaseType' has no attribute 'GCP'

tests\test_approval_service.py:27: AttributeError
_________________ ERROR at setup of test_load_approval_record _________________

    @pytest.fixture
    def sample_approval_data():
        return {
            "approval_id": "APPROVED_Test_User_20260101_120000",
            "environment": Environment.CIT,
>           "release_type": ReleaseType.GCP,
                            ^^^^^^^^^^^^^^^
            "base_branch": "develop",
            "base_commit": "abc1234",
            "approved_files": {"file1.txt": "hash1"},
            "release_jira": "JIRA-123",
            "cluster": "test-cluster",
            "shared_path": "/tmp/shared",
            "search_tag": "test-tag"
        }
E       AttributeError: type object 'ReleaseType' has no attribute 'GCP'

tests\test_approval_service.py:27: AttributeError
________________ ERROR at setup of test_mark_approval_consumed ________________

    @pytest.fixture
    def sample_approval_data():
        return {
            "approval_id": "APPROVED_Test_User_20260101_120000",
            "environment": Environment.CIT,
>           "release_type": ReleaseType.GCP,
                            ^^^^^^^^^^^^^^^
            "base_branch": "develop",
            "base_commit": "abc1234",
            "approved_files": {"file1.txt": "hash1"},
            "release_jira": "JIRA-123",
            "cluster": "test-cluster",
            "shared_path": "/tmp/shared",
            "search_tag": "test-tag"
        }
E       AttributeError: type object 'ReleaseType' has no attribute 'GCP'

tests\test_approval_service.py:27: AttributeError
___________________ ERROR at setup of test_revoke_approval ____________________

    @pytest.fixture
    def sample_approval_data():
        return {
            "approval_id": "APPROVED_Test_User_20260101_120000",
            "environment": Environment.CIT,
>           "release_type": ReleaseType.GCP,
                            ^^^^^^^^^^^^^^^
            "base_branch": "develop",
            "base_commit": "abc1234",
            "approved_files": {"file1.txt": "hash1"},
            "release_jira": "JIRA-123",
            "cluster": "test-cluster",
            "shared_path": "/tmp/shared",
            "search_tag": "test-tag"
        }
E       AttributeError: type object 'ReleaseType' has no attribute 'GCP'

tests\test_approval_service.py:27: AttributeError
___________ ERROR at setup of test_cannot_revoke_consumed_approval ____________

    @pytest.fixture
    def sample_approval_data():
        return {
            "approval_id": "APPROVED_Test_User_20260101_120000",
            "environment": Environment.CIT,
>           "release_type": ReleaseType.GCP,
                            ^^^^^^^^^^^^^^^
            "base_branch": "develop",
            "base_commit": "abc1234",
            "approved_files": {"file1.txt": "hash1"},
            "release_jira": "JIRA-123",
            "cluster": "test-cluster",
            "shared_path": "/tmp/shared",
            "search_tag": "test-tag"
        }
E       AttributeError: type object 'ReleaseType' has no attribute 'GCP'

tests\test_approval_service.py:27: AttributeError
=========================== short test summary info ===========================
ERROR tests/test_approval_service.py::test_create_approval_record - Attribute...
ERROR tests/test_approval_service.py::test_load_approval_record - AttributeEr...
ERROR tests/test_approval_service.py::test_mark_approval_consumed - Attribute...
ERROR tests/test_approval_service.py::test_revoke_approval - AttributeError: ...
ERROR tests/test_approval_service.py::test_cannot_revoke_consumed_approval - ...
========================= 1 passed, 5 errors in 0.17s =========================
